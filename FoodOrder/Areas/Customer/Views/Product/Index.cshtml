@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@

@model FoodOrder.ViewModels.CustomerProductViewModel
@{
    Layout = null;
}

@*<h1>Hello World</h1>*@


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Item Page - Chocolate Lava Cake</title>
    <link rel="stylesheet" href="~/css/item123.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@500;800&family=Poppins:wght@600&display=swap"
          rel="stylesheet" />
    <script src="https://kit.fontawesome.com/c2ac5cb392.js"
            crossorigin="anonymous"></script>
    <script defer src="~/js/item1x.js"></script>
</head>
<body>
    <div class="top-nav">
        <div class="top-nav-left">
            <div>
                <a asp-action="Index" asp-controller="Home">
                    <img src="~/Images/SignUp/sleepy.png"
                         alt=""
                         style="
                margin-left: 1.75rem;
                width: 250px;
                height: 250px;
                display: inline-block;
              " />
                </a>
            </div>

            <div class="heading">Sweet Trip</div>
        </div>
        <div style="width: 20%"></div>
        <form action ="@Url.Action("SearchBar", "Home")" method="get" id="my-form" id="my-form" id="my-form">
            <input type="text"
                   class="search-box"
                   name="stringResult"
                   placeholder="Enter the dessert you want to order" />
            <button type="submit"
                    id="search-button">
                <i class="fa fa-search"
                   style="font-size: 1.5rem; font-weight: 600"></i>
            </button>


            <button asp-action="Index" asp-controller="Cart"
                    class="cart-button"
                    style="border: none; background-color: transparent; padding: none">
                <img src="~/Images/HomePage/cart.png"
                     alt=""
                     style="
              width: 3rem;
              height: 3rem;
              padding-left: 2rem;
              padding-right: 2rem;
            " />
                @if ((bool)ViewData["ShowTempOrder"])
                {
                    @await Component.InvokeAsync("Item")
                    ;
                }
                     
            </button>
            <button class="avatar-button"
                    style="border: none; background-color: transparent; padding: none"
                    asp-action="Index" asp-controller="Profile" class="avatar-button">
                <img src="@ViewBag.ImageUrl" width="48" height="48"
                     alt=""
                     style="border: 3px solid blue; border-radius: 16px" />
            </button>
        </form>
    </div>

    <div class="wrapper">
        <div style="transform: translate(-10rem, -1rem) scale(1.1)">
            <img src="@Model.CurrentProduct.Image" alt="" class="item-img" />
            <div class="item-price"><span>@Model.CurrentProduct.Price</span> VND</div>
        </div>
        <div class="item-intro-wrapper">
            <div style="
            font-size: 4rem;
            font-weight: 300;
            transform: translate(-12rem, -5rem);
          ">
                <div>@Model.CurrentProduct.Name</div>
                <div style="font-weight: 900; transform: translateY(-1.5rem)">
                    @Model.CurrentProduct.Category.Title
                </div>
            </div>
            <div class="item-description-wrapper">
                <div style="font-size: 1.25rem; margin-left: 1rem; margin-bottom: 1rem">
                    Overview
                </div>
                <div class="rating-wrapper">
                    <div style="
                background-color: #d7e870;
                height: 6rem;
                width: 5rem;
                border-radius: 1.6rem;
                z-index: -1;
                display: inline-block;
                margin-bottom: -2rem;
              " id="rating-color"></div>
                    <span class="rating" id="rating">@Model.CurrentProduct.Rating</span>
                </div>
                <div class="item-name" style="margin-top: 2rem; font-weight: 500">
                    @Model.CurrentProduct.Name
                </div>
            
                <div class="item-description"
                     style="margin-top: 1rem; font-size: 1rem">
                    @Model.CurrentProduct.Description
                </div>

                <a asp-action="OrderNow" asp-controller="Product" asp-route-Productid="@Model.CurrentProduct.Id"
                    class="order-button"
                            style="margin-top: 1.5rem; margin-bottom: 0.8rem; text-align: center">
                        Order Now!
                </a>
                
                
                <a href="#review-section" class="check-review-button">
                    Check Reviews!
                </a>

                <button class="rating-and-review-button" data-modal-target="#modal">
                    Rate and Review...
                </button>
            </div>
        </div>

        <div class="modal" id="modal">
            <div class="review-box-header">
                <span style="
              padding-left: 2.5rem;
              font-size: 2.5rem;
              font-weight: 800;
              color: white;
            ">Rate and Review</span>
                <button data-close-button class="close-button">&times;</button>
            </div>
            <div class="review-box-body">
                <div style="float: left">
                    <div style="font-size: 2rem; color: #8f2428">
                        I ate...
                        <span style="font-size: 2.25rem; font-weight: 600"
                              class="review-item-name">Chocolate Lava Cake</span>
                    </div>
                </div>
                <div class="star-rating">
                    <button class="star">&#9734;</button>
                    <button class="star">&#9734;</button>
                    <button class="star">&#9734;</button>
                    <button class="star">&#9734;</button>
                    <button class="star">&#9734;</button>
                    <div style="font-size: 1.5rem; transform: translate(6rem, 0rem)">
                        Rating:
                        <span class="current_rating" style="color: #e79416">0 out of 5</span>
                    </div>
                </div>
                <form method="post" class="review-form">

                     <input type="hidden" id="rating-star" name="rating" value="0"/>
                     <input type="hidden" name="ProductId" value="@ViewBag.ProductId"/>
                    @*<textarea name="review"
                              id=""
                              cols="100"
                              rows="10"
                              placeholder="Add a review: "
                              class="review"></textarea>*@
                    <textarea name="review"
                              id=""
                              cols="100"
                              rows="10"
                              placeholder="Add a review: "
                              class="review"
                              style="margin-top: 20px; max-width:100%; width: 30rem"></textarea>
                    <input type="submit" value="Save" class="submit-rating-button" />
                </form>
            </div>
        </div>
    </div>
    <div id="overlay"></div>


    <div class="recommendation-wrapper">
        @foreach(var Product in Model.OtherProducts)
        {
            <a asp-action="Index" asp-controller="Product" asp-route-id="@Product.Id">
                <div class="recommendation">
                    <img src="@Product.Image" alt="" class="recommendation-img" />
                    <div class="recommendation-name">@Product.Name</div>
                </div>
            </a>
        }
      
    </div>


    <div style="
        width: 100%;
        background-color: #401012;
        height: 10rem;
        margin: 3rem 0;
        display: flex;
      ">
        <img src="~/Images/HomePage/decor1.png" alt="" style="transform: translate(4rem, -9rem)" />
        <img src="~/Images/HomePage/decor2.png" alt="" style="transform: translate(90rem, -9rem)" />
    </div>
    <div id="review-section">
        <div style="font-weight: 800; font-size: 3rem; margin-left: 4rem">
            Review
        </div>
    </div>


    <div class="review-wrapper">

        @foreach(var review in Model.ReviewsProduct)
        {
            <div class="review">
                <div class="avatar-and-rating">
                    <a href="">
                        <img src="@review.User.UserProfileImage" alt="" class="review-avatar" />
                    </a>
                    <div class="review-rating"
                     style="font-size: 1rem; color: green; margin-top: 1rem">
                       Rating @review.Rating/5 <i class="fa fa-star"></i>
                    </div>
                </div>

                <div class="review-info">
                    <div class="review-name">@(review.User.Name ?? "Unknown")  (@review.User.UserName)</div>
                    <div class="review-datetime">
                        <i class="fa fa-calendar"
                           style="font-size: 1rem;
                        margin-right: 5px;"></i> @review.CreatedAt
                    </div>
                    <div class="review-content">
                        @review.Text
                    </div>
                </div>
            </div>

            <hr>
        }
        
    </div>
    <footer>
        <div class="footer">
            <div class="footer-row">
                <a href="#"><i class="fa fa-facebook"></i></a>
                <a href="#"><i class="fa fa-instagram"></i></a>
                <a href="#"><i class="fa fa-twitter"></i></a>
            </div>
            <div class="footer-row">
                <ul>
                    <li><a href="#">Contact us</a></li>
                    <li><a href="#">Our Services</a></li>
                    <li><a href="#">Privacy Policy</a></li>
                    <li><a href="#">Terms & Conditions</a></li>
                    <li><a href="#">Career</a></li>
                </ul>
            </div>
            <div class="row" style="color: white">
                Sweet Trip Copyright © 2022 - All rights reserved
            </div>
        </div>
    </footer>
</body>
</html>
